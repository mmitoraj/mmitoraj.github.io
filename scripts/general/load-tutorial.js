'use strict';(function(){$(document).ready(function(){var beforeLoadText='<p class="notebook-notification__paragraph">Load <strong><a href="#" class="js-load-tutorial-button"></a></strong> tutorial to run or edit the code.</p>';var duringLoadingText='';var tutorialName='';var loadTutorialNotification='<div class="notebook-notification alert alert-success alert-dismissible" role="alert">\n                                        '+beforeLoadText+'\n                                      </div>';var loadTutorialNotificationVisible='notebook-notification--is-visible';var loadTutorialNotificationConstantlyVisible='notebook-notification--is-constantly-visible';var loadTutorialNotificationInvisible='notebook-notification--is-invisible';var $body=$('body');var contentWrapper='.content-wrapper';var $notebook=$('.notebook');var notebookInView='notebook--in-view';var isLoaded='notebook--is-loaded';var loaderFaded=false;$body.append(loadTutorialNotification);var $loadTutorialNotification=$('.notebook-notification');var $loadTutorialButton=$loadTutorialNotification.find('.js-load-tutorial-button');function checkNotebookVisibility(){var anyNotebookVisible=false;$notebook.each(function(){var $this=$(this);if($this.isOnScreen()&&!$this.hasClass(isLoaded)&&loaderFaded===false){anyNotebookVisible=true;handleNotebookHover($this);}if($this.isOnScreen()&&$this.hasClass(isLoaded)){$loadTutorialNotification.removeClass(loadTutorialNotificationVisible);}});if(anyNotebookVisible===false){$loadTutorialNotification.removeClass(loadTutorialNotificationVisible);}}checkNotebookVisibility();setInterval(function(){checkNotebookVisibility();},100);function handleNotebookHover(notebook){var $this=$(notebook);if(!$this.hasClass(isLoaded)){var id=$this.attr('id');var _tutorialName=$this.parent().children('h2').text();beforeLoadText='<p class="notebook-notification__paragraph">Load <strong><a id="buttonFor'+id+'" href="#" class="js-load-tutorial-button">'+_tutorialName+'</a></strong> tutorial to run or edit the code.</p>';$loadTutorialButton.attr('id',id).html(_tutorialName).click(function(event){event.preventDefault();var $this=$(this);var tutorialId=$this.attr('id').replace('buttonFor','');var $currentTutorial=$notebook.filter('[id="'+tutorialId+'"]');var $tutorialStatic=$currentTutorial.find('.notebook__static-tutorial');var $tutorialInteractive=$currentTutorial.find('.notebook__interactive-tutorial');var tutorialName=$tutorialStatic.attr('data-tutorial');var isQuickSetup=$tutorialStatic.attr('data-is-quick-setup');var tutorialLink=$tutorialStatic.attr('data-link');var $loader=$currentTutorial.find('.notebook__loader');var $loadTutorialNotification=$('.notebook-notification');$currentTutorial.css('min-height',$tutorialStatic.outerHeight());$loader.fadeIn(300,function(){$loadTutorialNotification.addClass(loadTutorialNotificationConstantlyVisible).html(duringLoadingText);_showInteractiveTutorial();});function _showInteractiveTutorial(){loaderFaded=true;$tutorialStatic.slideFadeOut(300);$tutorialInteractive.attr('src',tutorialLink).addClass('apinotebookFrame').slideFadeIn(300);$('#'+tutorialName).load(_onLoadInteractiveTutorial);}function _onLoadInteractiveTutorial(){$.when(_buildExpandCollapse()).done(_hideLoader,_hideNotification);}function _buildExpandCollapse(){if(isQuickSetup==='false'){var contentTutorialElement=document.getElementById(tutorialName).contentWindow;var setupOptions='#setupOptions';contentTutorialElement.createExpandCollapseMarkup(setupOptions);contentTutorialElement.addExpandCollapse();contentTutorialElement.dispatchResizeEvent();}}function _hideLoader(){$loader.fadeTo(300,0,function(){$loader.hide().remove();loaderFaded=false;$.when($currentTutorial.addClass(isLoaded)).done(_hideNotification);});}function _hideNotification(){$loadTutorialNotification.addClass(loadTutorialNotificationInvisible).fadeOut(300,function(){$loadTutorialNotification.html(beforeLoadText).promise().done(function(){$loadTutorialNotification.css('display','').removeClass(loadTutorialNotificationConstantlyVisible).removeClass(loadTutorialNotificationVisible);_defineLoadButtonAgain();});});}function _defineLoadButtonAgain(){$loadTutorialButton=$loadTutorialNotification.find('.js-load-tutorial-button');}});$loadTutorialNotification.addClass(loadTutorialNotificationVisible).removeClass(loadTutorialNotificationInvisible);duringLoadingText='<div class="spinner notebook-notification__spinner">\n                               <div class="spinner-container spinner-container1 spinner-container1--secondary">\n                                 <div class="spinner-circle1"></div>\n                                 <div class="spinner-circle2"></div>\n                                 <div class="spinner-circle3"></div>\n                                 <div class="circle4"></div>\n                               </div>\n                               <div class="spinner-container spinner-container2 spinner-container2--secondary">\n                                 <div class="spinner-circle1"></div>\n                                 <div class="spinner-circle2"></div>\n                                 <div class="spinner-circle3"></div>\n                                 <div class="circle4"></div>\n                               </div>\n                               <div class="spinner-container spinner-container3 spinner-container3--secondary">\n                                 <div class="spinner-circle1"></div>\n                                 <div class="spinner-circle2"></div>\n                                 <div class="spinner-circle3"></div>\n                                 <div class="circle4"></div>\n                               </div>\n                             </div>\n                             <p>Loading <strong>'+_tutorialName+'</strong> tutorial</p>';}}});})();